@model GroceryList.Models.Grocery
@using GroceryList.Models

@{
    ViewBag.Title = "Edit";
}
@if (ViewBag.MessageError != null)
{
    <div style="margin:20px auto;" class="alert alert-warning" role="alert">
        <p>
            @ViewBag.MessageError
        </p>
    </div>
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <input type="hidden" name="Id" value="@Model.Id" />
    <div class="form-horizontal">
        <h4>Grocery Management</h4>
        <hr />
        <div class="form-group">
            <label class="control-label col-md-2">Name</label>
            <div class="col-md-10">
                <input type="text" name="Name" class="form-control" required="required" value="@Model.Name" />
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Price</label>
            <div class="col-md-10">
                <input type="text" name="Price" class="form-control" required="required" value="@Model.Price" />
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Unit</label>
            <div class="col-md-10">
                <input type="text" name="Unit" class="form-control" required="required" value="@Model.Unit" />
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-2">Category</label>
            <div class="col-md-10">
                @Html.DropDownListFor(x => x.CategoryId, new SelectList(Category.GetCategories(), "Id", "Name", Model.CategoryId), new { @class = "form-control" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-success" />
                <input type="reset" value="Cancel" class="btn btn-default" />
            </div>
        </div>
    </div>
}
<script>
    (() => {
        var btnCancel = document.querySelector("input[type=reset]");
        btnCancel.addEventListener("click", function (evt) { window.location = "/"; });
    })();
</script>